[gd_scene load_steps=10 format=3 uid="uid://dmtueo6xkvkuh"]

[ext_resource type="PackedScene" uid="uid://duhxccdq5wmyj" path="res://scenes/Elementos/player.tscn" id="1_2vbil"]
[ext_resource type="Texture2D" uid="uid://k58xxsxfywwm" path="res://resources/caverns-files-web/layers/background.png" id="4_udeyk"]
[ext_resource type="Texture2D" uid="uid://dlc5umrgku56x" path="res://resources/caverns-files-web/layers/back-walls.png" id="5_7bh8n"]
[ext_resource type="Texture2D" uid="uid://nwbka5rxphyr" path="res://resources/caverns-files-web/layers/tiles.png" id="6_o2s4v"]
[ext_resource type="PackedScene" uid="uid://d2j36i8ofhdue" path="res://scenes/Elementos/NewLantern.tscn" id="7_cdluc"]
[ext_resource type="PackedScene" uid="uid://c1mg15ure05en" path="res://Linterna Profe/box.tscn" id="7_ph18t"]

[sub_resource type="GDScript" id="GDScript_4lh7i"]
script/source = "class_name Pickable
extends RigidBody2D


func pick(new_parent: Node2D, new_pos: Vector2):
	process_mode = Node.PROCESS_MODE_DISABLED
	_update_parent_and_pos(new_parent, new_pos)

	

func drop(new_parent: Node2D, new_pos: Vector2):
	process_mode = Node.PROCESS_MODE_INHERIT
	_update_parent_and_pos(new_parent, new_pos)


func _update_parent_and_pos(new_parent: Node2D, new_pos: Vector2):
	get_parent().remove_child(self)
	new_parent.add_child(self)
	global_position = new_pos
"

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_b8nwi"]
texture = ExtResource("6_o2s4v")
10:9/0 = 0
10:9/0/terrain_set = 0
10:9/0/terrain = 0
10:9/0/physics_layer_0/linear_velocity = Vector2(0, 0)
10:9/0/physics_layer_0/angular_velocity = 0.0
10:9/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
10:9/0/terrains_peering_bit/right_side = 0
10:9/0/terrains_peering_bit/bottom_right_corner = 0
10:9/0/terrains_peering_bit/bottom_side = 0
10:9/0/terrains_peering_bit/bottom_left_corner = 0
10:9/0/terrains_peering_bit/left_side = 0
7:9/0 = 0
7:9/0/terrain_set = 0
7:9/0/terrain = 0
7:9/0/physics_layer_0/linear_velocity = Vector2(0, 0)
7:9/0/physics_layer_0/angular_velocity = 0.0
7:9/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
7:9/0/terrains_peering_bit/right_side = 0
7:9/0/terrains_peering_bit/bottom_right_corner = 0
7:9/0/terrains_peering_bit/bottom_side = 0
7:10/0 = 0
7:10/0/terrain_set = 0
7:10/0/terrain = 0
7:10/0/physics_layer_0/linear_velocity = Vector2(0, 0)
7:10/0/physics_layer_0/angular_velocity = 0.0
7:10/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
7:10/0/terrains_peering_bit/right_side = 0
7:10/0/terrains_peering_bit/bottom_right_corner = 0
7:10/0/terrains_peering_bit/bottom_side = 0
7:10/0/terrains_peering_bit/top_side = 0
7:10/0/terrains_peering_bit/top_right_corner = 0
23:9/0 = 0
23:9/0/terrain_set = 0
23:9/0/terrain = 0
23:9/0/physics_layer_0/linear_velocity = Vector2(0, 0)
23:9/0/physics_layer_0/angular_velocity = 0.0
23:9/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
23:9/0/terrains_peering_bit/bottom_side = 0
23:9/0/terrains_peering_bit/bottom_left_corner = 0
23:9/0/terrains_peering_bit/left_side = 0
23:10/0 = 0
23:10/0/terrain_set = 0
23:10/0/terrain = 0
23:10/0/physics_layer_0/linear_velocity = Vector2(0, 0)
23:10/0/physics_layer_0/angular_velocity = 0.0
23:10/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
23:10/0/terrains_peering_bit/bottom_side = 0
23:10/0/terrains_peering_bit/bottom_left_corner = 0
23:10/0/terrains_peering_bit/left_side = 0
23:10/0/terrains_peering_bit/top_left_corner = 0
23:10/0/terrains_peering_bit/top_side = 0
7:5/0 = 0
7:5/0/terrain_set = 0
7:5/0/terrain = 0
7:5/0/physics_layer_0/linear_velocity = Vector2(0, 0)
7:5/0/physics_layer_0/angular_velocity = 0.0
7:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
7:5/0/terrains_peering_bit/right_side = 0
7:5/0/terrains_peering_bit/top_side = 0
7:5/0/terrains_peering_bit/top_right_corner = 0
8:5/0 = 0
8:5/0/terrain_set = 0
8:5/0/terrain = 0
8:5/0/physics_layer_0/linear_velocity = Vector2(0, 0)
8:5/0/physics_layer_0/angular_velocity = 0.0
8:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
8:5/0/terrains_peering_bit/right_side = 0
8:5/0/terrains_peering_bit/left_side = 0
8:5/0/terrains_peering_bit/top_left_corner = 0
8:5/0/terrains_peering_bit/top_side = 0
8:5/0/terrains_peering_bit/top_right_corner = 0
23:5/0 = 0
23:5/0/terrain_set = 0
23:5/0/terrain = 0
23:5/0/physics_layer_0/linear_velocity = Vector2(0, 0)
23:5/0/physics_layer_0/angular_velocity = 0.0
23:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
23:5/0/terrains_peering_bit/left_side = 0
23:5/0/terrains_peering_bit/top_left_corner = 0
23:5/0/terrains_peering_bit/top_side = 0
11:11/0 = 0
11:11/0/terrain_set = 0
11:11/0/terrain = 0
11:11/0/physics_layer_0/linear_velocity = Vector2(0, 0)
11:11/0/physics_layer_0/angular_velocity = 0.0
11:11/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
11:11/0/terrains_peering_bit/right_side = 0
11:11/0/terrains_peering_bit/bottom_right_corner = 0
11:11/0/terrains_peering_bit/bottom_side = 0
11:11/0/terrains_peering_bit/bottom_left_corner = 0
11:11/0/terrains_peering_bit/left_side = 0
11:11/0/terrains_peering_bit/top_left_corner = 0
11:11/0/terrains_peering_bit/top_side = 0
11:11/0/terrains_peering_bit/top_right_corner = 0
7:15/0 = 0
7:15/0/terrain_set = 0
7:15/0/terrain = 0
7:15/0/physics_layer_0/linear_velocity = Vector2(0, 0)
7:15/0/physics_layer_0/angular_velocity = 0.0
7:15/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
7:15/0/terrains_peering_bit/right_side = 0
7:15/0/terrains_peering_bit/bottom_right_corner = 0
7:15/0/terrains_peering_bit/bottom_side = 0
7:15/0/terrains_peering_bit/bottom_left_corner = 0
7:15/0/terrains_peering_bit/left_side = 0
7:15/0/terrains_peering_bit/top_side = 0
7:15/0/terrains_peering_bit/top_right_corner = 0
23:15/0 = 0
23:15/0/terrain_set = 0
23:15/0/terrain = 0
23:15/0/physics_layer_0/linear_velocity = Vector2(0, 0)
23:15/0/physics_layer_0/angular_velocity = 0.0
23:15/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
23:15/0/terrains_peering_bit/right_side = 0
23:15/0/terrains_peering_bit/bottom_right_corner = 0
23:15/0/terrains_peering_bit/bottom_side = 0
23:15/0/terrains_peering_bit/bottom_left_corner = 0
23:15/0/terrains_peering_bit/left_side = 0
23:15/0/terrains_peering_bit/top_left_corner = 0
23:15/0/terrains_peering_bit/top_side = 0
23:0/0 = 0
23:0/0/terrain_set = 0
23:0/0/terrain = 0
23:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
23:0/0/physics_layer_0/angular_velocity = 0.0
23:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
23:0/0/terrains_peering_bit/right_side = 0
23:0/0/terrains_peering_bit/bottom_side = 0
23:0/0/terrains_peering_bit/bottom_left_corner = 0
23:0/0/terrains_peering_bit/left_side = 0
23:0/0/terrains_peering_bit/top_left_corner = 0
23:0/0/terrains_peering_bit/top_side = 0
23:0/0/terrains_peering_bit/top_right_corner = 0
7:0/0 = 0
7:0/0/terrain_set = 0
7:0/0/terrain = 0
7:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
7:0/0/physics_layer_0/angular_velocity = 0.0
7:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
7:0/0/terrains_peering_bit/right_side = 0
7:0/0/terrains_peering_bit/bottom_right_corner = 0
7:0/0/terrains_peering_bit/bottom_side = 0
7:0/0/terrains_peering_bit/left_side = 0
7:0/0/terrains_peering_bit/top_left_corner = 0
7:0/0/terrains_peering_bit/top_side = 0
7:0/0/terrains_peering_bit/top_right_corner = 0

[sub_resource type="TileSet" id="TileSet_ragyn"]
physics_layer_0/collision_layer = 3
physics_layer_0/collision_mask = 3
terrain_set_0/mode = 0
terrain_set_0/terrain_0/name = "Floor"
terrain_set_0/terrain_0/color = Color(0.517647, 0.372549, 0.945098, 1)
sources/0 = SubResource("TileSetAtlasSource_b8nwi")

[node name="Main" type="Node2D"]

[node name="linterna" type="RigidBody2D" parent="."]
position = Vector2(345, 150)
script = SubResource("GDScript_4lh7i")
metadata/_edit_group_ = true

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0.431373, 0.431373, 0.431373, 1)

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]

[node name="ParallaxLayer2" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.5, 0.5)
motion_mirroring = Vector2(512, 288)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer2"]
position = Vector2(-1.52588e-05, 0)
scale = Vector2(2.70833, 1)
texture = ExtResource("4_udeyk")
centered = false

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.2, 0.2)
motion_mirroring = Vector2(512, 0)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer"]
texture = ExtResource("5_7bh8n")
centered = false

[node name="Player" parent="." instance=ExtResource("1_2vbil")]
position = Vector2(86, 123)

[node name="TileMap2" type="TileMap" parent="."]
tile_set = SubResource("TileSet_ragyn")
format = 2
layer_0/tile_data = PackedInt32Array(655365, 458752, 9, 655366, 655360, 9, 655367, 655360, 9, 655368, 655360, 9, 655369, 655360, 9, 655371, 655360, 9, 655370, 655360, 9, 655372, 655360, 9, 655373, 655360, 9, 655375, 655360, 9, 655374, 655360, 9, 655376, 655360, 9, 655377, 655360, 9, 655378, 655360, 9, 655379, 655360, 9, 655380, 655360, 9, 655381, 655360, 9, 655382, 655360, 9, 655383, 655360, 9, 655384, 655360, 9, 655385, 655360, 9, 655386, 655360, 9, 655388, 1507328, 9, 655387, 655360, 9, 720901, 458752, 10, 720902, 720896, 11, 720903, 720896, 11, 720904, 720896, 11, 720905, 720896, 11, 720906, 720896, 11, 720907, 720896, 11, 720908, 720896, 11, 720909, 720896, 11, 720910, 720896, 11, 720911, 720896, 11, 786437, 458752, 5, 786438, 524288, 5, 786439, 524288, 5, 786440, 524288, 5, 786441, 524288, 5, 786442, 524288, 5, 786443, 524288, 5, 786444, 524288, 5, 786445, 524288, 5, 786446, 524288, 5, 786447, 524288, 5, 786448, 524288, 5, 786449, 524288, 5, 786450, 524288, 5, 786451, 524288, 5, 786452, 524288, 5, 786453, 524288, 5, 786454, 524288, 5, 786455, 524288, 5, 786456, 524288, 5, 786457, 524288, 5, 786458, 524288, 5, 786459, 524288, 5, 786460, 1507328, 5, 720924, 1507328, 10, 720923, 720896, 11, 720922, 720896, 11, 720921, 720896, 11, 720920, 720896, 11, 720919, 720896, 11, 720918, 720896, 11, 720917, 720896, 11, 720916, 720896, 11, 720915, 720896, 11, 720914, 720896, 11, 720913, 720896, 11, 720912, 720896, 11, 393213, 1507328, 9, 393212, 655360, 9, 393211, 655360, 9, 393210, 655360, 9, 393209, 655360, 9, 393208, 655360, 9, 393207, 458752, 9, 458743, 458752, 10, 458744, 720896, 11, 458745, 720896, 11, 458746, 720896, 11, 458747, 720896, 11, 458748, 720896, 11, 458749, 1507328, 10, 524285, 1507328, 10, 524284, 720896, 11, 524283, 720896, 11, 524282, 720896, 11, 524281, 720896, 11, 524280, 720896, 11, 524279, 458752, 10, 589815, 458752, 10, 589816, 720896, 11, 589817, 720896, 11, 589818, 720896, 11, 589819, 720896, 11, 589820, 720896, 11, 589821, 1507328, 10, 655357, 1507328, 5, 655356, 524288, 5, 655355, 524288, 5, 655354, 524288, 5, 655353, 524288, 5, 655352, 524288, 5, 655351, 458752, 5, 196595, 458752, 9, 262131, 458752, 10, 327667, 458752, 5, 327668, 524288, 5, 262132, 720896, 11, 262133, 1507328, 10, 196597, 1507328, 9, 196596, 655360, 9, 327669, 1507328, 5, 524321, 458752, 9, 524322, 655360, 9, 524323, 655360, 9, 524324, 655360, 9, 524325, 655360, 9, 589861, 720896, 11, 589860, 720896, 11, 589859, 720896, 11, 589858, 720896, 11, 589857, 458752, 10, 655393, 458752, 5, 655394, 524288, 5, 655395, 524288, 5, 655396, 524288, 5, 655397, 524288, 5, 655398, 524288, 5, 589862, 720896, 11, 524326, 655360, 9, 524327, 655360, 9, 524328, 655360, 9, 524329, 655360, 9, 589865, 720896, 11, 655401, 720896, 11, 655400, 720896, 11, 655399, 458752, 0, 589863, 720896, 11, 589864, 720896, 11, 655402, 720896, 11, 589866, 720896, 11, 589867, 720896, 11, 589868, 720896, 11, 589869, 720896, 11, 655405, 524288, 5, 655404, 1507328, 0, 655403, 720896, 11, 524330, 655360, 9, 524331, 655360, 9, 524332, 655360, 9, 524333, 655360, 9, 589870, 720896, 11, 655406, 524288, 5, 655407, 1507328, 5, 589871, 1507328, 10, 524335, 1507328, 9, 524334, 655360, 9, 720938, 720896, 11, 786474, 720896, 11, 852010, 1507328, 0, 917546, 1507328, 10, 917545, 720896, 11, 983081, 524288, 5, 983080, 524288, 5, 917544, 720896, 11, 917543, 458752, 10, 852007, 458752, 10, 786471, 458752, 10, 720935, 458752, 10, 720936, 720896, 11, 786472, 720896, 11, 852008, 720896, 11, 852009, 720896, 11, 786473, 720896, 11, 720937, 720896, 11, 983079, 458752, 5, 983082, 1507328, 5, 720939, 720896, 11, 786475, 720896, 11, 852011, 524288, 5, 852012, 1507328, 5, 786476, 1507328, 10, 720940, 1507328, 10, 458803, 458752, 9, 458804, 655360, 9, 458805, 655360, 9, 458806, 655360, 9, 458807, 655360, 9, 458808, 655360, 9, 458809, 458752, 15, 393273, 458752, 9, 393274, 458752, 15, 327738, 458752, 9, 327739, 1507328, 9, 393275, 1507328, 15, 393276, 1507328, 9, 458812, 1507328, 10, 524348, 1507328, 5, 589883, 1507328, 5, 655418, 1507328, 5, 655417, 1507328, 0, 589881, 720896, 11, 589880, 720896, 11, 589879, 720896, 11, 589878, 720896, 11, 589877, 720896, 11, 589876, 720896, 11, 524340, 720896, 11, 524339, 458752, 10, 589875, 458752, 10, 655411, 458752, 5, 655412, 524288, 5, 524341, 720896, 11, 655413, 524288, 5, 655414, 524288, 5, 655416, 524288, 5, 655415, 524288, 5, 524342, 720896, 11, 524343, 720896, 11, 524344, 720896, 11, 524345, 720896, 11, 524346, 720896, 11, 458810, 720896, 11, 458811, 720896, 11, 589882, 1507328, 0, 524347, 1507328, 0)

[node name="PickLantern" parent="." instance=ExtResource("7_cdluc")]
position = Vector2(247, 133)
scale = Vector2(1.03925, 1.11408)

[node name="Box" parent="." instance=ExtResource("7_ph18t")]
position = Vector2(108, 55)
rotation = -0.876155
scale = Vector2(0.189425, 0.194692)
